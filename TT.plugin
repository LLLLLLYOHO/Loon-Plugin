#!name = TTå¹¿å‘Šè¿‡æ»¤å™¨
#!desc = TTè‡ªç”¨çš„å¹¿å‘Šè¿‡æ»¤å™¨, æŸäº›APPè¦æ¸…é™¤ç¼“å­˜æˆ–è€…é‡æ–°å®‰è£…
#!author = TT[https://github.com/LLLLLLYOHO/Loon-Plugin]
#!tag = å»å¹¿å‘Š, TT
#!system=iOS, iPadOS
#!system_version = 
#!loon_version = 3.2.4(787)
#!icon = https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Advertising.png
#!date=2025-12-19 23:52:00
#!support=æ”¯æŒå¤šæ¬¾æ¬¾APP/å°ç¨‹åº
#!remark=ä¸‹æ–¹çš„æ‰€æœ‰è§„åˆ™éƒ½æ ‡æ³¨äº†å¯¹åº”çš„hostnameï¼Œå¯èƒ½å­˜åœ¨é”™è¯¯æˆ–è€…é—æ¼ï¼Œæ¬¢è¿åé¦ˆã€‚å¯¹äºæ— æ³•/å¯é€‰MITMçš„hostnameéƒ½ç‰¹åˆ«åšäº†â€œå¦‚å¼€å¯å¯è‡ªè¡Œæ·»åŠ ä¸»æœºåâ€æç¤ºï¼Œå¦‚æœæç¤ºåé¢æ²¡æœ‰æ ‡æ³¨ä¸»æœºååˆ™åŒ…å«æ‰€æœ‰ä¸»æœºåï¼Œå¦åˆ™åªåŒ…å«æç¤ºè¯­åé¢çš„ä¸»æœºåã€‚
#############################################
# "reject"        ç­–ç•¥è¿”å› HTTP çŠ¶æ€ç  404,ä¸é™„å¸¦ä»»ä½•é¢å¤–å†…å®¹
# "reject-200"    ç­–ç•¥è¿”å› HTTP çŠ¶æ€ç  200,ä¸é™„å¸¦ä»»ä½•é¢å¤–å†…å®¹
# "reject-img"    ç­–ç•¥è¿”å› HTTP çŠ¶æ€ç  200,åŒæ—¶é™„å¸¦ 1px gif
# "reject-dict"   ç­–ç•¥è¿”å› HTTP çŠ¶æ€ç  200,åŒæ—¶é™„å¸¦ä¸€ä¸ªç©ºçš„ JSON å¯¹è±¡
# "reject-array"  ç­–ç•¥è¿”å› HTTP çŠ¶æ€ç  200,åŒæ—¶é™„å¸¦ä¸€ä¸ªç©ºçš„ JSON æ•°ç»„
#############################################
# å¸¸è§é—®é¢˜ï¼š
# 1ï¸âƒ£ï¼šæˆ‘çŸ¥é“è§„åˆ™ï¼Œä¸çŸ¥é“ä¸»æœºåæ€ä¹ˆåŠï¼Ÿ
# âœ…ï¼šå‡ ä¹æ‰€æœ‰çš„ä¸»æœºåéƒ½æ˜¯ä»è§„åˆ™ä¸­æå–å‡ºæ¥çš„ï¼Œå…ˆæœ‰çš„è§„åˆ™å†æœ‰çš„ä¸»æœºå
# ä¸¾ä¸ªæ —å­ï¼š12306çš„ä¸€æ¡è§„åˆ™URLğŸ‘‰ğŸ»^https?:\/\/ad\.12306\.cn\/ad\/ser\/getAdList
# åªéœ€è¦å»æ‰åæ–œæ ï¼š^https?://ad.12306.cn/ad/ser/getAdList
# ä¸ç”¨å†è¯´äº†å§ï¼Œad.12306.cnå°±æ˜¯æƒ³è¦çš„ä¸»æœºå
# 2ï¸âƒ£ï¼šæœ‰äº›å¸¸ç”¨çš„è½¯ä»¶ä¸ºä»€ä¹ˆæ²¡æœ‰å»å¹¿å‘Šé…ç½®ï¼Ÿ
# âœ…ï¼šå¦‚æœè¦åˆ©ç”¨é‡å†™å»å¹¿å‘Šï¼Œå°±éœ€è¦å¯¹è¯·æ±‚æˆ–å“åº”ä¿¡æ¯è¿›è¡Œè§£å¯†(MITM)ï¼Œç°åœ¨ä¸€äº›è½¯ä»¶å·²ç»ç¦æ­¢äº†MITMï¼Œæ‰€ä»¥å°±æ— æ³•å»å¹¿å‘Šã€‚
# 3ï¸âƒ£ï¼šLoonå¦‚æœåœ¨æ’ä»¶é‡Œé¢å†™äº†è§„åˆ™ï¼Œåœ¨è§„åˆ™é…ç½®é‡Œä¹Ÿå†™äº†ï¼Œå“ªä¸ªä¼˜å…ˆç”Ÿæ•ˆï¼Ÿ
# âœ…ï¼šæ’ä»¶é‡Œçš„è§„åˆ™ä¼˜å…ˆç”Ÿæ•ˆã€‚
#############################################

[MITM]
hostname = midc.cdn-static.abchina.com.cn, enjoy.cdn-static.abchina.com, pss.txffp.com, 62578.activity-12.m.duiba.com.cn, ecard.shenzhentong.com, ccmsupport-sz.tenpay.com, otheve.beacon.qq.com, www.tailgdd.com, cds.wifi188.com, home.mi.com, ocrifs.ejoy.sinopec.com, ne.gdsz.sinopec.com, a.sinopecsales.com, webappcfg.paas.cmbchina.com, mbmodule-openapi.paas.cmbchina.com, mlife.jf365.boc.cn, m.client.10010.com, m1.ad.10010.com, res.mall.10010.cn, cloud.189.cn, zt-app.go189.cn, app.10099.com.cn, e.weather.com.cn, zgrb.epicc.com.cn, sichuan.95504.net, app-gw-link.ztehome.com

[Rule]
# >>>>>>>>>>>>>>> âœ… è‡ªç”¨è¡¥å……æ·»åŠ  âœ… <<<<<<<<<<<<<<
#å“è¿œæœºåœºåˆ†æµ
DOMAIN, fbapiv2.fbsublink.com, PROXY
# APP"bad.news"åˆ†æµ
DOMAIN-KEYWORD, bad.news, PROXY
#å¯è‰ç«™ç‚¹åˆ†æµ
DOMAIN-KEYWORD, kelee.one, DIRECT
#éªŒè´§åˆ†æµ
DOMAIN, mass-light.com, PROXY
DOMAIN, eprel.ec.europa.eu, DIRECT
DOMAIN-KEYWORD, welltec.pro, DIRECT
#è‡ªæ·»åŠ  ä¸€äº›æœªçŸ¥çš„
DOMAIN, sentry.aibaoxian.com, DIRECT
IP-CIDR, 28.0.0.1/8, DIRECT
IP-CIDR, 198.18.0.1/16, DIRECT
IP-CIDR, 198.18.0.0/15, DIRECT
IP-CIDR, fc00::/18, DIRECT
#é˜²æ­¢TGåŠ è½½è½¬åœˆ
IP-CIDR, 95.161.76.100/31,REJECT-NO-DROP, no-resolve
#ç¥¨æ ¹(å¼€å±æ‘‡ä¸€æ‘‡å¹¿å‘Š)@TT
DOMAIN, api.yfanads.com, REJECT
#éšæœºæ•°appå†…ç½®å¹¿å‘Š
DOMAIN-KEYWORD, googleads.g.doubleclick.net, REJECT

[Rewrite]
# >>>>>>>>>>>>>>> âœ… B âœ… <<<<<<<<<<<<<<
#ç¦ç”¨ STUN 
#å¼€å¯åï¼Œå¯ä»¥é¿å…ä¸€äº›P2Pè¯·æ±‚ï¼Œå¯ä»¥é˜²æ­¢Bç«™ä¹‹ç±»çš„ç™½å«–ä¸Šä¼ 
AND, ((PROTOCOL, STUN), (DOMAIN-KEYWORD, bilibili.)), REJECT

# > å†œä¸šé“¶è¡Œ
# hostname = midc.cdn-static.abchina.com.cn, enjoy.cdn-static.abchina.com
^https?:\/\/midc\.cdn-static\.abchina\.com\.cn\/distributecenterimg\/file\/download\/(?!bbc2|f015|1655|0992|4678|a194|d8e2|c513|e51c|0ee1|166e|05ca|c882|d5b8|22ed|a0dc|a55a|6f89|3bf9|3c71|52ec|5b62|ve7a|001c|923d|accf|4a10|0bd7|be7a|5b62|5dd6|1f24|006c|775d|bd02|b983|5251|806b|d119|db14|43c9|41d3|8570|2c10|85ea|1435|814e|f422|aec7|738c|d7c8|0538|02b4|fd20|7647|f6ef|07c5|885b|e4cb|685b|30aa|c23b|9603|f27f|eaf8|8011|a5eb|409d|724c|3f2a|e07f|6744|60a6|158c|8ce3) reject-dict
^https?:\/\/enjoy\.cdn-static\.abchina\.com\/yx-engine-web\/file\/download\/(?!7dc2|fe96|cea3|06a8|1b11|d57b|6918|61db|2d58|aa23|) reject-200
^https?:\/\/firefly\.abchina\.com\.cn\/firefly-collection\/Collect reject-200

#ç¥¨æ ¹  å¯åŠ¨å¹¿å‘Š@TT
# hostname = pss.txffp.com, 62578.activity-12.m.duiba.com.cn
^https?:\/\/pss\.txffp\.com\/piaogen\/images\/launchScreen/ url reject-200
#ç¥¨æ ¹  é¦–é¡µè½®æ’­å›¾, èµ„è®¯å›¾ç‰‡
^https:\/\/pss\.txffp\.com\/piaogen\/images\/advert\/.*.(jpg|gif|png) url reject
#ç¥¨æ ¹  é¦–é¡µä¸­é—´æŠ½å¥–å›¾
^https:\/\/pss\.txffp\.com\/piaogen\/images\/invoiceEmailAdvert\/0f2b2b78353c4831bbab24430d59685c\.png url reject
^https:\/\/pss\.txffp\.com\/piaogen\/images\/invoiceEmailAdvert\/ee8e954f6d10454692b6e67128e119ed\.png url reject
^https:\/\/pss\.txffp\.com\/piaogen\/images\/invoiceEmailAdvert\/8125d0c985584e51866f53d4a2f62c05\.png url reject
#ç¥¨æ ¹  é¦–é¡µä¸­é—´æŠ½å¥–è·³è½¬é“¾æ¥  - 62578.activity-12.m.duiba.com.cn
^https:\/\/62578\.activity-12\.m\.duiba\.com\.cn\/autoLogin\/autologin url reject

# > æ·±åœ³é€š
# hostname = ecard.shenzhentong.com
^https?:\/\/ecard\.shenzhentong\.com\/wxweb\/bwxppub2\/QryAdvertList\.do reject-200

# > è…¾è®¯ä¹˜è½¦ç å¾®ä¿¡å°ç¨‹åº
# hostname = ccmsupport-sz.tenpay.com
# æ„Ÿè°¢ã€jinlveiã€‘åˆ†äº«
^https?:\/\/ccmsupport-sz\.tenpay\.com\/cgi-bin\/common\/ccm_page_element.cgi reject

# > è…¾è®¯æ‰‹æœºç®¡å®¶
# hostname = otheve.beacon.qq.com
^https?://otheve.beacon.qq.com\/analytics\/upload\?sid=.* reject

# > å°é“ƒæ™ºèƒ½ å¼€å±å¹¿å‘Š
# hostname = www.tailgdd.com
^https?:\/\/www\.tailgdd\.com\/v8\/smart\/app\/config\/get url reject-dict

# >>>>>>>>>>>>>>> âœ… W âœ… <<<<<<<<<<<<<<
# > WIFIä¸‡èƒ½é’¥åŒ™
# hostname = cds.wifi188.com
# é¦–é¡µå¼¹çª—å¹¿å‘Š
^https?:\/\/cds\.wifi188\.com\/feeds\.sec reject-dict

# > ç±³å®¶
# hostname = home.mi.com
^https?:\/\/home\.mi\.com\/cgi-op\/api\/v1\/recommendation\/(banner|carousel\/banners|myTab|openingBanner) reject-dict

# > æ˜“æ·åŠ æ²¹å°ç¨‹åº
# hostname = ocrifs.ejoy.sinopec.com, ne.gdsz.sinopec.com
# åº•éƒ¨æ¨ªå¹…å¹¿å‘Š
^https?:\/\/ocrifs\.ejoy\.sinopec\.com\/advertitfs\/advert\/findAdvertInfo reject-dict
# å»é™¤çº¢åŒ…å¼¹çª—
^https?:\/\/ne\.gdsz\.sinopec\.com\/gateway\/api\/omp\/mt\/appAdvertising\/queryAdvertisingByParams reject-dict

# > æ˜“æ·åŠ æ²¹
# hostname = a.sinopecsales.com
# å¼€å±å¹¿å‘Š
^https?:\/\/a\.sinopecsales\.com\/app\/cms reject-dict

# >>>>>>>>>>>>>>> âœ… Z âœ… <<<<<<<<<<<<<<
# > æ‹›å•†é“¶è¡Œ
# hostname = webappcfg.paas.cmbchina.com, mbmodule-openapi.paas.cmbchina.com
# å¼€å±å¹¿å‘Š
^https?:\/\/webappcfg\.paas\.cmbchina\.com\/v\d\/func\/getmarketconfig reject-200
# é¦–é¡µæ¨ªå¹…å¹¿å‘Š
^https?:\/\/mbmodule-openapi\.paas\.cmbchina\.com\/graphic\/v2\/module\/graphic reject-dict

# > ä¸­å›½é“¶è¡Œ
# hostname = mlife.jf365.boc.cn
# > ä¸­å›½é“¶è¡Œ ç¼¤çº·ç”Ÿæ´»
^https?:\/\/mlife\.jf365\.boc\.cn\/AppPrj\/FirstPic\.do\?txnId=2PIC000001 reject-200

# > ä¸­å›½è”é€š
# hostname = m.client.10010.com, m1.ad.10010.com, res.mall.10010.cn
^https?:\/\/m\.client\.10010\.com\/mobileService\/(activity|customer)\/(accountListData|get_client_adv|get_startadv) reject-img
^https?:\/\/m\.client\.10010\.com\/mobileService\/customer\/getclientconfig\.htm reject-dict
^https?:\/\/m\.client\.10010\.com\/uniAdmsInterface\/(getHomePageAd|getWelcomeAd) reject-img
^https?:\/\/[^(apple|10010)]+\.(com|cn)\/(a|A)d(s|v)?(\/|\.js) reject-img
^https?:\/\/m1\.ad\.10010\.com\/noticeMag\/images\/imageUpload\/2\d{3} reject-img
^https?:\/\/res\.mall\.10010\.cn\/mall\/common\/js\/fa\.js?referer= reject-img

# > ä¸­å›½ç”µä¿¡
# hostname = cloud.189.cn, zt-app.go189.cn
^https?:\/\/cloud\.189\.cn\/include\/splash\/ reject
^https?:\/\/zt-app\.go189\.cn\/zt-app\/welcome\/.*?Animation reject-img

# > ä¸­å›½å¹¿ç”µ
# hostname = app.10099.com.cn
^https?:\/\/app\.10099\.com\.cn\/contact-web\/api\/version\/getFlashScreenPage reject-200

# > ä¸­å›½å¤©æ°”ç½‘å°ç¨‹åº
# hostname = e.weather.com.cn
# æ¨ªå¹…å¹¿å‘Š
^https?:\/\/e\.weather\.com\.cn\/weChat\/typhoonNull\.json reject-dict

# > ä¸­å›½äººä¿
# hostname = zgrb.epicc.com.cn
# äººä¿å¤´æ¡
^https?:\/\/zgrb\.epicc\.com\.cn\/G-HAPP\/h\/headlines\/queryHeadlines reject
# å¯åŠ¨å¼€å±
^https?:\/\/zgrb\.epicc\.com\.cn\/G-HAPP\/a\/update\/startupPage\/v reject-dict
# çŒœä½ å–œæ¬¢
^https?:\/\/zgrb\.epicc\.com\.cn\/G-HAPP\/a\/config\/guessYouLike\/v reject-dict

# > ä¸­æ²¹ä¼˜é€”
# hostname = sichuan.95504.net
^https?:\/\/sichuan\.95504\.net\/v\d\/gd\/index\/get reject-200

# > ä¸­å…´æ™ºèƒ½ç”Ÿæ´»å¼€å±å¹¿å‘Š
# hostname = app-gw-link.ztehome.com
^https?:\/\/app-gw-link\.ztehome\.com\.cn:5443\/api\/v1\/noticeall\?osname=ios url reject-dict
