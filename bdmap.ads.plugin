#!name = ç™¾åº¦åœ°å›¾å‡€åŒ–
#!desc = TTç™¾åº¦åœ°å›¾å‡€åŒ–ï¼Œcopyè‡ªå¢¨é±¼
#!author = TT[https://github.com/LLLLLLYOHO/Loon-Plugin]
#!tag = å»å¹¿å‘Š, TT
#!system=iOS, iPadOS
#!system_version = 
#!loon_version = 3.2.4(787)
#!icon = https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Advertising.png
#!date=2026-01-01 22:03:00
#!support=æ”¯æŒç™¾åº¦åœ°å›¾å»å¹¿å‘Š
#!remark=ä¸‹æ–¹çš„æ‰€æœ‰è§„åˆ™éƒ½æ ‡æ³¨äº†å¯¹åº”çš„hostnameï¼Œå¯èƒ½å­˜åœ¨é”™è¯¯æˆ–è€…é—æ¼ï¼Œæ¬¢è¿åé¦ˆã€‚å¯¹äºæ— æ³•/å¯é€‰MITMçš„hostnameéƒ½ç‰¹åˆ«åšäº†â€œå¦‚å¼€å¯å¯è‡ªè¡Œæ·»åŠ ä¸»æœºåâ€æç¤ºï¼Œå¦‚æœæç¤ºåé¢æ²¡æœ‰æ ‡æ³¨ä¸»æœºååˆ™åŒ…å«æ‰€æœ‰ä¸»æœºåï¼Œå¦åˆ™åªåŒ…å«æç¤ºè¯­åé¢çš„ä¸»æœºåã€‚
#############################################
# "reject"        ç­–ç•¥è¿”å› HTTP çŠ¶æ€ç  404,ä¸é™„å¸¦ä»»ä½•é¢å¤–å†…å®¹
# "reject-200"    ç­–ç•¥è¿”å› HTTP çŠ¶æ€ç  200,ä¸é™„å¸¦ä»»ä½•é¢å¤–å†…å®¹
# "reject-img"    ç­–ç•¥è¿”å› HTTP çŠ¶æ€ç  200,åŒæ—¶é™„å¸¦ 1px gif
# "reject-dict"   ç­–ç•¥è¿”å› HTTP çŠ¶æ€ç  200,åŒæ—¶é™„å¸¦ä¸€ä¸ªç©ºçš„ JSON å¯¹è±¡
# "reject-array"  ç­–ç•¥è¿”å› HTTP çŠ¶æ€ç  200,åŒæ—¶é™„å¸¦ä¸€ä¸ªç©ºçš„ JSON æ•°ç»„
#############################################
# å¸¸è§é—®é¢˜ï¼š
# 1ï¸âƒ£ï¼šæˆ‘çŸ¥é“è§„åˆ™ï¼Œä¸çŸ¥é“ä¸»æœºåæ€ä¹ˆåŠï¼Ÿ
# âœ…ï¼šå‡ ä¹æ‰€æœ‰çš„ä¸»æœºåéƒ½æ˜¯ä»è§„åˆ™ä¸­æå–å‡ºæ¥çš„ï¼Œå…ˆæœ‰çš„è§„åˆ™å†æœ‰çš„ä¸»æœºå
# ä¸¾ä¸ªæ —å­ï¼š12306çš„ä¸€æ¡è§„åˆ™URLğŸ‘‰ğŸ»^https?:\/\/ad\.12306\.cn\/ad\/ser\/getAdList
# åªéœ€è¦å»æ‰åæ–œæ ï¼š^https?://ad.12306.cn/ad/ser/getAdList
# ä¸ç”¨å†è¯´äº†å§ï¼Œad.12306.cnå°±æ˜¯æƒ³è¦çš„ä¸»æœºå
# 2ï¸âƒ£ï¼šæœ‰äº›å¸¸ç”¨çš„è½¯ä»¶ä¸ºä»€ä¹ˆæ²¡æœ‰å»å¹¿å‘Šé…ç½®ï¼Ÿ
# âœ…ï¼šå¦‚æœè¦åˆ©ç”¨é‡å†™å»å¹¿å‘Šï¼Œå°±éœ€è¦å¯¹è¯·æ±‚æˆ–å“åº”ä¿¡æ¯è¿›è¡Œè§£å¯†(MITM)ï¼Œç°åœ¨ä¸€äº›è½¯ä»¶å·²ç»ç¦æ­¢äº†MITMï¼Œæ‰€ä»¥å°±æ— æ³•å»å¹¿å‘Šã€‚
# 3ï¸âƒ£ï¼šLoonå¦‚æœåœ¨æ’ä»¶é‡Œé¢å†™äº†è§„åˆ™ï¼Œåœ¨è§„åˆ™é…ç½®é‡Œä¹Ÿå†™äº†ï¼Œå“ªä¸ªä¼˜å…ˆç”Ÿæ•ˆï¼Ÿ
# âœ…ï¼šæ’ä»¶é‡Œçš„è§„åˆ™ä¼˜å…ˆç”Ÿæ•ˆã€‚
#############################################

[MITM]
hostname = 180.76.76.200, newclient.map.baidu.com, httpdns.baidubce.com, ugc.map.baidu.com

[Rewrite]
^https?:\/\/.*map\.baidu\.com\/.*govui\/rich_content url response-body-json-jq '.data.posts.content=[]'
^https?:\/\/newclient\.map\.baidu\.com\/client\/phpui.*qt=hw url reject-200
^https?:\/\/newclient\.map\.baidu\.com\/client\/phpui2\/\?qt=ads url reject-200
^https?:\/\/httpdns\.baidubce\.com url response-body-json-jq '.data["newclient.map.baidu.com"]={}'
^https?:\/\/newclient\.map\.baidu\.com\/client\/crossmarketing url reject-200
^https?:\/\/newclient\.map\.baidu\.com\/client\/usersystem\/home\/dynamic url reject-200
^https?:\/\/newclient\.map\.baidu\.com\/contributor-bus/bounty/tips url reject-200
^https?:\/\/newclient\.map\.baidu\.com\/usercenter/mine/page url response-body-json-del data.sport_card data.gold data.gold_coin_card data.shop
^https?:\/\/newclient\.map\.baidu\.com\/usercenter/mine/page url response-body-json-del data.sport_card data.gold data.gold_coin_card data.shop
